(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7797:function(e,t,s){Promise.resolve().then(s.bind(s,6318))},6318:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ed}});var a=s(7437),r=s(2265),i=s(3247),l=s(4001),o=s(1994),n=s(3335);function d(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,o.W)(t))}let c=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});c.displayName="Input";var m=s(7053),u=s(535);let x=(0,u.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:l=!1,...o}=e,n=l?m.g7:"button";return(0,a.jsx)(n,{className:d(x({variant:r,size:i,className:s})),ref:t,...o})});h.displayName="Button";var f=s(1053),g=s(2489);let p=f.fC,v=f.xz,b=f.h_;f.x8;let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(f.aV,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});j.displayName=f.aV.displayName;let N=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(j,{}),(0,a.jsxs)(f.VY,{ref:t,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[r,(0,a.jsxs)(f.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});N.displayName=f.VY.displayName;let y=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};y.displayName="DialogHeader";let w=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(f.Dx,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",s),...r})});w.displayName=f.Dx.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(f.dk,{ref:t,className:d("text-sm text-muted-foreground",s),...r})}).displayName=f.dk.displayName;var k=s(2249);class A extends Error{constructor(e,t=!1){super(e),(0,k._)(this,"isThrottled",void 0),this.name="ApiError",this.isThrottled=t}}class T{setApiKey(e){this.apiKey=e.trim()}clearApiKey(){this.apiKey=null}getApiKey(){return this.apiKey}async makeRequest(e){if(!this.apiKey)throw new A("API key is required. Please set your OMDb API key.");let t=new URL("https://www.omdbapi.com/");t.searchParams.append("apikey",this.apiKey),Object.entries(e).forEach(e=>{let[s,a]=e;t.searchParams.append(s,a)});try{let e=await fetch(t.toString());if(!e.ok){if(429===e.status)throw new A("API rate limit exceeded. Please wait a moment before trying again.",!0);throw new A("HTTP error! status: ".concat(e.status))}let r=await e.json();if("False"===r.Response){var s,a;if(null===(s=r.Error)||void 0===s?void 0:s.includes("Request limit reached"))throw new A("Daily API limit reached. Please try again tomorrow.",!0);if(null===(a=r.Error)||void 0===a?void 0:a.includes("Too many results"))throw new A("Too many results found. Please be more specific with your search term.",!1);throw new A(r.Error||"An error occurred while fetching data.")}return r}catch(e){if(e instanceof A)throw e;throw new A("Failed to connect to the movie database. Please check your internet connection.")}}async searchMovies(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e.trim())return{movies:[],totalResults:0};let s=await this.makeRequest({s:e.trim(),page:t.toString(),type:"movie"});return{movies:s.Search||[],totalResults:parseInt(s.totalResults||"0")}}async getMovieDetails(e){return await this.makeRequest({i:e,plot:"full"})}constructor(){(0,k._)(this,"apiKey","cc244580")}}let S=new T,D=0,P=new Map,R=e=>{if(P.has(e))return;let t=setTimeout(()=>{P.delete(e),I({type:"REMOVE_TOAST",toastId:e})},1e6);P.set(e,t)},C=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?R(s):e.toasts.forEach(e=>{R(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},E=[],M={toasts:[]};function I(e){M=C(M,e),E.forEach(e=>{e(M)})}function _(e){let{...t}=e,s=(D=(D+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>I({type:"DISMISS_TOAST",toastId:s});return I({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>I({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function O(){let[e,t]=r.useState(M);return r.useEffect(()=>(E.push(t),()=>{let e=E.indexOf(t);e>-1&&E.splice(e,1)}),[e]),{...e,toast:_,dismiss:e=>I({type:"DISMISS_TOAST",toastId:e})}}let L=e=>{let{onSearch:t,isLoading:s}=e,[o,n]=(0,r.useState)(""),[d,m]=(0,r.useState)(S.getApiKey()||""),[u,x]=(0,r.useState)(!1),{toast:f}=O(),g=(0,r.useCallback)(e=>{if(!S.getApiKey()){x(!0);return}t(e)},[t]),b=!S.getApiKey();return(0,a.jsx)("div",{className:"w-full max-w-2xl mx-auto",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.trim()&&g(o.trim())},className:"relative flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,a.jsx)(c,{type:"text",placeholder:"Search for movies...",value:o,onChange:e=>n(e.target.value),className:"pl-10 h-12 text-lg cinema-card border-cinema-gold/20 focus-visible:ring-0 focus-visible:ring-offset-0 focus:ring-0 text-white bg-black/20",disabled:s})]}),(0,a.jsx)(h,{type:"submit",className:"h-12 px-6 cinema-button text-white bg-black/50 hover:bg-cinema-gold hover:text-black",disabled:s||!o.trim(),children:s?(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground border-t-transparent"}):"Search"}),b&&(0,a.jsxs)(p,{open:u,onOpenChange:x,children:[(0,a.jsx)(v,{asChild:!0,children:(0,a.jsx)(h,{variant:"outline",size:"icon",className:"h-12 w-12",children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(N,{className:"cinema-card",children:[(0,a.jsx)(y,{children:(0,a.jsx)(w,{className:"text-cinema-gold",children:"Set OMDb API Key"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["You need an OMDb API key to search for movies. Get one for free at"," ",(0,a.jsx)("a",{href:"https://www.omdbapi.com/apikey.aspx",target:"_blank",rel:"noopener noreferrer",className:"text-cinema-gold hover:underline",children:"omdbapi.com"})]}),(0,a.jsx)(c,{type:"text",placeholder:"Enter your API key...",value:d,onChange:e=>m(e.target.value),className:"cinema-card"}),(0,a.jsx)(h,{onClick:()=>{d.trim()&&(S.setApiKey(d.trim()),x(!1),f({title:"API Key saved",description:"You can now search for movies!"}),o.trim()&&g(o.trim()))},className:"w-full cinema-button",disabled:!d.trim(),children:"Save API Key"})]})]})]})]})})};var Z=s(1047),K=s(4554);let z=e=>{let{movie:t,onClick:s}=e,r=t.Poster&&"N/A"!==t.Poster?t.Poster:"/placeholder.svg";return(0,a.jsxs)("div",{className:"group cinema-card rounded-lg overflow-hidden cursor-pointer bg-black/50 relative",onClick:s,children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-10 bg-black/50 z-10 h-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,a.jsxs)("div",{className:"aspect-[2/3] relative overflow-hidden",children:[(0,a.jsx)("img",{src:r,alt:t.Title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:e=>{e.target.src="/placeholder.svg"}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,a.jsxs)("div",{className:"p-4 space-y-2 absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg leading-tight line-clamp-2 text-cinema-gold",children:t.Title}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:t.Year})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 capitalize",children:[(0,a.jsx)(K.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:t.Type})]})]})]})]})},V=e=>{let{movies:t,onMovieClick:s}=e;return 0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 opacity-50",children:(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-full h-full",children:[(0,a.jsx)("path",{d:"M12 2L2 7V17L12 22L22 17V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M12 22V12",stroke:"currentColor",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M22 17L12 12L2 17",stroke:"currentColor",strokeWidth:"2"})]})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"No movies found"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Try searching with different keywords"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,a.jsx)(z,{movie:e,onClick:()=>s(e)},e.imdbID))})};var B=s(2660),Q=s(1723),F=s(6595),Y=s(5805),q=s(9202),W=s(5252),G=s(3327);let U=(0,u.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function H(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:d(U({variant:s}),t),...r})}let X=e=>{var t;let{movie:s,onBack:r}=e,i=s.Poster&&"N/A"!==s.Poster?s.Poster:"/placeholder.svg",l=(null===(t=s.Genre)||void 0===t?void 0:t.split(", "))||[],o=s.Ratings||[];return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)(h,{onClick:r,variant:"outline",className:"mb-6 cinema-card border-cinema-gold/30 hover:border-cinema-gold text-white bg-black/50 hover:bg-cinema-gold hover:text-black",children:[(0,a.jsx)(B.Z,{className:"h-4 w-4 mr-2"}),"Back to Search"]}),(0,a.jsx)("div",{className:"cinema-card rounded-xl p-6 lg:p-8 bg-black/20 text-white",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)("div",{className:"aspect-[2/3] rounded-lg overflow-hidden cinema-glow",children:(0,a.jsx)("img",{src:i,alt:s.Title,className:"w-full h-full object-cover",onError:e=>{e.target.src="/placeholder.svg"}})})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold text-cinema-gold mb-3 text-white",children:s.Title}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-white mb-4",children:[s.Year&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:s.Year})]}),s.Runtime&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(Q.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:s.Runtime})]}),s.Rated&&(0,a.jsx)(H,{variant:"secondary",children:s.Rated})]}),l.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:l.map(e=>(0,a.jsx)(H,{className:"cinema-button bg-cinema-gold text-black",children:e},e))})]}),o.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(F.Z,{className:"h-5 w-5 text-cinema-gold"}),"Ratings"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:o.map(e=>(0,a.jsxs)("div",{className:"cinema-card rounded-lg p-3 text-center bg-black/20 border-cinema-gold/30 border",children:[(0,a.jsx)("div",{className:"text-sm text-white mb-1",children:e.Source}),(0,a.jsx)("div",{className:"font-semibold text-cinema-gold",children:e.Value})]},e.Source))})]}),s.Plot&&"N/A"!==s.Plot&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Plot"}),(0,a.jsx)("p",{className:"text-white leading-relaxed",children:s.Plot})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.Director&&"N/A"!==s.Director&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-cinema-gold mb-2",children:"Director"}),(0,a.jsx)("p",{className:"text-white",children:s.Director})]}),s.Actors&&"N/A"!==s.Actors&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold text-cinema-gold mb-2 flex items-center gap-2",children:[(0,a.jsx)(Y.Z,{className:"h-4 w-4"}),"Cast"]}),(0,a.jsx)("p",{className:"text-white",children:s.Actors})]}),s.Country&&"N/A"!==s.Country&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold text-cinema-gold mb-2 flex items-center gap-2",children:[(0,a.jsx)(q.Z,{className:"h-4 w-4"}),"Country"]}),(0,a.jsx)("p",{className:"text-white",children:s.Country})]}),s.BoxOffice&&"N/A"!==s.BoxOffice&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold text-cinema-gold mb-2 flex items-center gap-2",children:[(0,a.jsx)(W.Z,{className:"h-4 w-4"}),"Box Office"]}),(0,a.jsx)("p",{className:"text-white",children:s.BoxOffice})]})]}),s.Awards&&"N/A"!==s.Awards&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(G.Z,{className:"h-5 w-5 text-cinema-gold"}),"Awards"]}),(0,a.jsx)("p",{className:"text-white leading-relaxed",children:s.Awards})]})]})]})})]})},J=e=>{let{size:t="md",className:s=""}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center ".concat(s),children:(0,a.jsx)("div",{className:"".concat({sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[t]," animate-spin rounded-full border-2 border-cinema-gold border-t-transparent cinema-glow")})})},$=()=>(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((e,t)=>(0,a.jsxs)("div",{className:"cinema-card rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"aspect-[2/3] bg-muted animate-pulse"}),(0,a.jsxs)("div",{className:"p-4 space-y-2",children:[(0,a.jsx)("div",{className:"h-6 bg-muted rounded animate-pulse"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"h-4 w-16 bg-muted rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-4 w-16 bg-muted rounded animate-pulse"})]})]})]},t))});var ee=s(6865),et=s(2926),es=s(7168);let ea=(0,u.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),er=r.forwardRef((e,t)=>{let{className:s,variant:r,...i}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:d(ea({variant:r}),s),...i})});er.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:d("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let ei=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:d("text-sm [&_p]:leading-relaxed",s),...r})});ei.displayName="AlertDescription";let el=e=>{let{error:t,onRetry:s,isThrottled:r=!1}=e;return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsx)(er,{variant:r?"default":"destructive",className:"cinema-card border-cinema-red/30",children:(0,a.jsxs)(ei,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:r?(0,a.jsx)(ee.Z,{className:"h-4 w-4"}):t.includes("connect")||t.includes("network")?(0,a.jsx)(et.Z,{className:"h-6 w-6"}):(0,a.jsx)(ee.Z,{className:"h-7 w-7"})}),(0,a.jsx)("span",{children:t})]}),s&&!r&&(0,a.jsxs)(h,{variant:"outline",size:"sm",onClick:s,className:"",children:[(0,a.jsx)(es.Z,{className:"h-3 w-3 mr-1"}),"Retry"]})]})}),r&&(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"API rate limit reached. Please wait a moment before searching again."})})]})};var eo=s(9334);let en=()=>{let{toast:e}=O(),[t,s]=(0,r.useState)({view:"search",movies:[],selectedMovie:null,searchQuery:"",isLoading:!1,isLoadingDetails:!1,error:null,isThrottled:!1}),i=function(e,t){let[s,a]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let t=setTimeout(()=>{a(e)},300);return()=>{clearTimeout(t)}},[e,300]),s}(t.searchQuery,0);r.useEffect(()=>{i.trim()?l(i):s(e=>({...e,movies:[],error:null}))},[i]);let l=(0,r.useCallback)(async t=>{if(t.trim()){s(e=>({...e,isLoading:!0,error:null,isThrottled:!1}));try{let{movies:a}=await S.searchMovies(t);s(e=>({...e,movies:a,isLoading:!1,error:null})),0===a.length&&e({title:"No results found",description:'No movies found for "'.concat(t,'". Try different keywords.')})}catch(i){let t=i instanceof A,a=t?i.message:"An unexpected error occurred",r=!!t&&(i.isThrottled||!1);s(e=>({...e,isLoading:!1,error:a,isThrottled:r,movies:[]})),r||e({title:"Search failed",description:a,variant:"destructive"})}}},[e]),o=(0,r.useCallback)(e=>{s(t=>({...t,searchQuery:e}))},[]),n=(0,r.useCallback)(async t=>{s(e=>({...e,isLoadingDetails:!0,view:"details",error:null}));try{let e=await S.getMovieDetails(t.imdbID);s(t=>({...t,selectedMovie:e,isLoadingDetails:!1}))}catch(a){let t=a instanceof A?a.message:"Failed to load movie details";s(e=>({...e,isLoadingDetails:!1,error:t,view:"search"})),e({title:"Failed to load details",description:t,variant:"destructive"})}},[e]),d=(0,r.useCallback)(()=>{s(e=>({...e,view:"search",selectedMovie:null,error:null}))},[]),c=(0,r.useCallback)(()=>{t.searchQuery.trim()&&l(t.searchQuery)},[t.searchQuery,l]),m=(0,r.useMemo)(()=>t.movies.length>0,[t.movies.length]),u=(0,r.useMemo)(()=>t.searchQuery.trim().length>0,[t.searchQuery]);return(0,a.jsx)("div",{className:"min-h-screen p-4 lg:p-8 bg-black/90",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("h1",{className:"text-4xl lg:text-6xl font-bold text-cinema-gold",children:"Movie Search"}),(0,a.jsx)("p",{className:"text-xl text-white max-w-2xl mx-auto",children:"Discover movies from the world's largest movie database"})]}),"search"===t.view&&(0,a.jsx)(L,{onSearch:o,isLoading:t.isLoading}),(0,a.jsxs)("div",{className:"space-y-6",children:["search"===t.view&&(0,a.jsxs)(a.Fragment,{children:[t.error&&(0,a.jsx)(el,{error:t.error,onRetry:t.isThrottled?void 0:c,isThrottled:t.isThrottled}),t.isLoading&&(0,a.jsx)($,{}),!t.isLoading&&!t.error&&m&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-cinema-gold",children:"Search Results"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[t.movies.length," movies found"]})]}),(0,a.jsx)(V,{movies:t.movies,onMovieClick:n})]}),!t.isLoading&&!t.error&&!m&&u&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 opacity-80",children:(0,a.jsx)(eo.Z,{className:"w-full h-full text-cinema-gold"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"No movies found"}),(0,a.jsx)("p",{className:"text-white",children:"Try searching with different keywords"})]}),!u&&!t.error&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-32 h-32 mx-auto mb-6 opacity-80",children:(0,a.jsx)(eo.Z,{className:"w-full h-full text-cinema-gold"})}),(0,a.jsx)("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Start your movie discovery"}),(0,a.jsx)("p",{className:"text-white max-w-md mx-auto",children:"Search for any movie title to explore detailed information, ratings, and more"})]})]}),"details"===t.view&&(0,a.jsx)(a.Fragment,{children:t.isLoadingDetails?(0,a.jsxs)("div",{className:"py-16",children:[(0,a.jsx)(J,{size:"lg",className:"mb-4"}),(0,a.jsx)("p",{className:"text-center text-muted-foreground",children:"Loading movie details..."})]}):t.selectedMovie?(0,a.jsx)(X,{movie:t.selectedMovie,onBack:d}):null})]})]})})};function ed(){return(0,a.jsx)(en,{})}}},function(e){e.O(0,[62,971,117,744],function(){return e(e.s=7797)}),_N_E=e.O()}]);